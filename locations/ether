#location ~ /ether(/?)(.*)$ {
#        proxy_pass http://127.0.0.1:9001$1;
#        include proxy_params;
#}

 location /pad {        
        rewrite                /pad/(.*) /$1 break;
        rewrite                ^/pad$ /pad/ permanent; 
        proxy_pass             http://localhost:9001/;
        proxy_pass_header Server;
        proxy_redirect         / /pad/;
        proxy_set_header       Host $host;
        proxy_buffering off;
    }

    location /socket.io {
        rewrite /socket.io/(.*) /socket.io/$1 break;
        proxy_pass http://localhost:9001/;
        proxy_set_header Host $host;
        proxy_buffering off;
    }

    location /static {
        rewrite /static/(.*) /static/$1 break;
        proxy_pass http://localhost:9001/;
        proxy_set_header Host $host;
        proxy_buffering off;
        proxy_set_header X-Real-IP $remote_addr;  # http://wiki.nginx.org/HttpProxyModule
        proxy_set_header Host $host;  # pass the host header                                                   
        proxy_http_version 1.1;  # recommended with keepalive connections                                                    
        # WebSocket proxying - from http://nginx.org/en/docs/http/websocket.html
 #       proxy_set_header Upgrade $http_upgrade;
 #       proxy_set_header Connection $connection_upgrade;
    }

# we're in the http context here
#map $http_upgrade $connection_upgrade {
#  default upgrade;
#  ''      close;
#}

